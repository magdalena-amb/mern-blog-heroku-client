(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){e.exports=n(283)},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},142:function(e,t,n){},167:function(e,t){},185:function(e,t,n){},186:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},281:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(37),o=n.n(c),s=n(7),l=n(8),i=n(10),u=n(9),p=n(11),m=n(28),f=(n(114),function(e){var t=e.children;return r.a.createElement("div",{className:"container-fluid"},t)}),d=(n(115),function(e){e.links,e.location;return r.a.createElement("h1",{className:"logo"},"Blog.app")}),h=n(23),E=(n(116),function(e){var t=e.links,n=e.location;return r.a.createElement("ul",{className:"main-menu"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(h.b,{className:n.pathname===e.path?"active":"",to:e.path},e.title))})))}),v=Object(m.e)((function(e){return r.a.createElement(E,e)})),g=(n(122),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={links:[{path:"/",title:"Home"},{path:"/posts/new",title:"Add post"},{path:"/posts",title:"Posts"},{path:"/contact",title:"Contact"},{path:"/posts/random",title:"Random "}]},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.links;return r.a.createElement("nav",{className:"navbar"},r.a.createElement(d,null),r.a.createElement(v,{links:e}))}}]),t}(a.Component)),b=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(f,null,r.a.createElement(g,null),t))},O=(n(123),function(e){var t=e.children;return r.a.createElement("h1",{className:"page-title"},t)}),P=n(19),j=n(18),y=n(50),_=n(38),k=n(12),w=n.n(k),N=n(25),x=n(30),S=n.n(x),C="http://localhost:8000/api",A="http://localhost:3000/${location.pathname}";function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){return e.posts.request},R=function(e){return e.posts.singlePost},I=function(e){var t=e.posts;return Math.ceil(t.amount/t.postsPerPage)},B=function(e){return"app/".concat("posts","/").concat(e)},U=B("LOAD_POSTS"),L=B("START_REQUEST"),M=B("END_REQUEST"),X=B("ERROR_REQUEST"),F=B("CLEAR_STATE"),G=B("GET_POST"),Q=B("LOAD_POSTS_PAGE"),J=function(e){return{payload:e,type:G}},V=function(){return{type:L}},H=function(){return{type:M}},W=function(e){return{error:e,type:X}},Y=function(e){return{payload:e,type:Q}},$=function(e){return function(){var t=Object(N.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(V()),t.prev=1,t.next=4,S.a.get("".concat(C,"/posts/").concat(e));case 4:a=t.sent,n(J(a.data)),n(H()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(W(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},z={data:[],request:{pending:!1,error:null,success:null},singlePost:{},sent:!1,amount:0,postsPerPage:5,presentPage:1};n(142);var K=n(107),Z=n.n(K),ee=function(e){var t=e.children,n=Object(P.a)(e,["children"]);return r.a.createElement("div",Object.assign({},n,{className:"html-box"}),Z()(t))},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(e.length<1)return"Error.";if(!(e.length>t))return e;var n=e.substr(0,t);if(" "!==n.lastIndexOf){var a=n.split(" "),r=a.slice(0,a.length-1).join(" ")+"...";return r}},ne=(n(185),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object(P.a)(e,["variant","children"]);return r.a.createElement("button",Object.assign({},c,{className:"button button--".concat(n)}),a)}),ae=(n(186),function(e){var t=e.children,n=Object(P.a)(e,["children"]);return r.a.createElement("h2",Object.assign({},n,{className:"small-title"}),t)}),re=function(e){var t=e.id,n=e.title,a=e.content,c=e.author;return r.a.createElement("article",{className:"post-summary"},r.a.createElement(ae,null,n),r.a.createElement(ee,null,te(a,120)),r.a.createElement("p",null,"Author: ",c," "),r.a.createElement(h.b,{to:"/posts/".concat(t)},r.a.createElement(ne,{variant:"primary"},"Read more")),r.a.createElement(h.b,{to:"/posts/edit/".concat(t)},r.a.createElement(ne,{variant:"danger"},"Update post")))},ce=function(e){var t=e.posts;return r.a.createElement("div",null,r.a.createElement("section",{className:"posts-list"},t.map((function(e){return r.a.createElement(re,Object.assign({key:e.id},e))}))))},oe=n(49),se=(n(240),function(){return r.a.createElement(oe.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),le=n(34),ie=(n(241),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object(P.a)(e,["variant","children"]);return r.a.createElement(oe.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",Object.assign({},c,{className:"alert alert--".concat(n)}),function(){switch(n){case"info":return r.a.createElement(le.c,null);case"success":return r.a.createElement(le.a,null);case"warning":case"error":return r.a.createElement(le.b,null);default:return r.a.createElement(le.c,null)}}(),r.a.createElement("span",{className:"alert__desc"},a)))}),ue=n(39),pe=(n(242),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={presentPage:n.props.initialPage},n.changePage=function(e){var t=n.props.onPageChange;n.setState({presentPage:e}),t(e)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.pages,t=this.state.presentPage,n=this.changePage;return r.a.createElement("div",{className:"pagination"},r.a.createElement("ul",{className:"pagination__list"},t>1&&r.a.createElement("span",{onClick:function(){return n(t-1)},className:"pagination__list__item"},r.a.createElement(ue.a,null)),Object(y.a)(Array(e)).map((function(e,a){return r.a.createElement("li",{key:++a,onClick:function(){return n(a)},className:"pagination__list__item".concat(a===t?" pagination__list__item--active":"")},a)})),t<e&&r.a.createElement("span",{onClick:function(){return n(t+1)},className:"pagination__list__item"},r.a.createElement(ue.b,null))))}}]),t}(r.a.Component)),me=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).loadPostsPage=function(e){var t=n.props;(0,t.loadPostsByPage)(e,t.postsPerPage)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.loadPostsByPage)(e.initialPage,e.postsPerPage)}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.request,a=e.pages,c=e.initialPage,o=e.pagination,s=this.loadPostsPage;return r.a.createElement("div",null,!1===n.pending&&n.success&&0===t.length&&r.a.createElement(ie,{variant:"info"},"No posts yet."),(n.pending||null===n.success)&&r.a.createElement(se,null),n.success&&t.length>0&&r.a.createElement("div",null,r.a.createElement(ce,{posts:t}),o&&r.a.createElement(pe,{pages:a,onPageChange:s,initialPage:c})),!1===n.pending&&null!==n.error&&r.a.createElement(ie,{variant:"error"},n.error))}}]),t}(a.Component),fe=Object(j.b)((function(e){return{posts:(t=e,t.posts.data),request:q(e),pages:I(e),initialPage:e.posts.presentPage};var t}),(function(e){return{loadPostsByPage:function(t,n){return e(function(e,t){return function(){var n=Object(N.a)(w.a.mark((function n(a){var r,c,o,s;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(V()),n.prev=1,r=(e-1)*t,c=t,n.next=6,S.a.get("".concat(C,"/posts/range/").concat(r,"/").concat(c));case 6:o=n.sent,s={posts:o.data.posts,amount:o.data.amount,postsPerPage:t,presentPage:e},a(Y(s)),a(H()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),a(W(n.t0.message));case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=e.pagination,n=void 0===t||t,a=e.postsPerPage,c=void 0===a?5:a,o=(e.children,Object(P.a)(e,["pagination","postsPerPage","children"]));return r.a.createElement(me,Object.assign({},o,{pagination:n,postsPerPage:c}))})),de=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Blog"),r.a.createElement(fe,{postsPerPage:3,pagination:!1}))},he=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.count;return r.a.createElement("div",null,"Number of posts: ",e," ")}}]),t}(a.Component),Ee=Object(j.b)((function(e){return{count:(t=e,t.posts.data.length)};var t}))(he),ve=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Posts list"),r.a.createElement(Ee,null),r.a.createElement(fe,{pagination:!0,postsPerPage:5}))},ge=function(){return r.a.createElement("div",null,r.a.createElement(O,null," Contact "),r.a.createElement("p",null," Your Favourite Blooger Ltd. "),r.a.createElement("p",null," 9432 Division Street Stone Mountain, GA 30083"),r.a.createElement("p",null," Mobile Number: 207-914-3411  "))},be=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Sorry! 404 Page not found"))},Oe=(n(243),n(64)),Pe=n.n(Oe),je=(n(247),n(248),n(249),function(e){var t=e.value,n=e.label,a=e.onChange,c=Object(P.a)(e,["value","label","onChange"]);return r.a.createElement("label",{className:"text-field"},r.a.createElement("span",{className:"text-field__label ".concat(!t.length>0?"text-field__label--big":"")},n),r.a.createElement("input",Object.assign({},c,{value:t,onChange:a,className:"text-field__input"})))}),ye=(n(250),function(e){var t=e.children;return r.a.createElement("h2",{className:"section-title"},t)});function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(n,!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={post:{title:"",author:"",content:""},sent:!1},n.addPost=function(e){var t=n.props.addPost,a=n.state.post;e.preventDefault(),t(a),n.setState({post:{title:"",author:"",content:""},sent:!0})},n.updatePost=function(e){var t=n.props,a=t.updatePost,r=t.post_id,c=n.state.post;e.preventDefault(),a(r,c),n.setState(ke({},n.state,{sent:!0}))},n.handleChange=function(e){var t=n.state.post;n.setState({post:ke({},t,Object(_.a)({},e.target.name,e.target.value))})},n.handleEditor=function(e){var t=n.state.post;n.setState({post:ke({},t,{content:e})})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t,n,a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.getPost,!(a=t.post_id)){e.next=6;break}return e.next=4,n(a);case 4:r=this.props.singlePost,this.setState(ke({},this.state,{post:{title:r.title,author:r.author,content:r.content}}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){(0,this.props.clearState)()}},{key:"render",value:function(){var e=this.state,t=e.post,n=e.sent,a=this.handleChange,c=this.handleEditor,o=this.addPost,s=this.updatePost,l=this.props,i=l.request;return l.singlePost.id?i.error?r.a.createElement(ie,{variant:"error"},i.error):i.success&&!0===n?r.a.createElement(ie,{variant:"success"},"Post has been updated!"):i.pending?r.a.createElement(se,null):r.a.createElement("form",{onSubmit:s},r.a.createElement(je,{label:"Title",value:t.title,name:"title",onChange:a}),r.a.createElement(je,{label:"Author",value:t.author,name:"author",onChange:a}),r.a.createElement(ye,null,"Edit post content"),r.a.createElement(Pe.a,{className:"content-editor",text:t.content,options:{placeholder:!1,toolbar:{buttons:["bold","italic","underline","anchor","h2","h3"]}},onChange:c}),r.a.createElement(ne,{variant:"primary"},"Update post")):i.error?r.a.createElement(ie,{variant:"error"},i.error):i.success&&!0===n?r.a.createElement(ie,{variant:"success"},"Post has been added!"):i.pending?r.a.createElement(se,null):r.a.createElement("form",{onSubmit:o},r.a.createElement(je,{label:"Title",value:t.title,name:"title",onChange:a}),r.a.createElement(je,{label:"Author",value:t.author,name:"author",onChange:a}),r.a.createElement(ye,null,"Edit post content"),r.a.createElement(Pe.a,{className:"content-editor",text:t.content,options:{placeholder:!1,toolbar:{buttons:["bold","italic","underline","anchor","h2","h3"]}},onChange:this.handleEditor}),r.a.createElement(ne,{variant:"primary"},"Add post"))}}]),t}(r.a.Component),Ne=Object(j.b)((function(e){return{request:q(e),singlePost:R(e)}}),(function(e){return{addPost:function(t){return e(function(e){return function(){var t=Object(N.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(V()),t.prev=1,t.next=4,S.a.post("".concat(C,"/posts"),e);case 4:t.sent,n(H()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(W(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},clearState:function(){return e({type:F})},getPost:function(t){return e($(t))},updatePost:function(t,n){return e(function(e,t){return function(){var n=Object(N.a)(w.a.mark((function n(a){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(V()),n.prev=1,n.next=4,S.a.put("".concat(C,"/posts/edit/").concat(e),t);case 4:n.sent,a(H()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),a(W(n.t0.message));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))(we),xe=function(e){var t=e.match;return r.a.createElement(Ne,{post_id:t.params.id})},Se=(n(251),n(51)),Ce=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getPost)(e.post_id)}},{key:"render",value:function(){var e=this.props,t=e.singlePost,n=e.request;return r.a.createElement("div",{className:"single-post"},(n.pending||null===n.success)&&r.a.createElement(se,null),n.success&&r.a.createElement("div",null,r.a.createElement(O,null,t.title),r.a.createElement("p",null,"Author: ",t.author," "),r.a.createElement(ee,null,t.content),r.a.createElement(Se.FacebookProvider,{appId:"1464353420407801"},r.a.createElement(Se.ShareButton,{className:"btnFacebook",href:A},r.a.createElement(ue.c,null),"Share"),r.a.createElement(Se.Comments,{href:A}))),!1===n.pending&&null!==n.error&&r.a.createElement(ie,{variant:"error"},n.error))}}]),t}(a.Component),Ae=Object(m.e)(Object(j.b)((function(e){return{singlePost:R(e),request:q(e)}}),(function(e){return{getPost:function(t){return e($(t))}}}))((function(e){return r.a.createElement(Ce,e)}))),De=function(e){var t=e.match.params.id;return r.a.createElement("div",null,r.a.createElement(Ae,{post_id:t}))},Te=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.singlePost,n=e.request;return r.a.createElement("div",{className:"random-post"},(n.pending||null===n.success)&&r.a.createElement(se,null),n.success&&r.a.createElement("div",null,r.a.createElement(O,null,t.title),r.a.createElement(ee,null,t.content),r.a.createElement("p",null,"Author: ",t.author," ")),!1===n.pending&&null!==n.error&&r.a.createElement(ie,{variant:"error"},n.error))}}]),t}(a.Component),qe=Object(j.b)((function(e){return{singlePost:R(e),request:q(e)}}),(function(e){return{getRandomPost:function(){return e(function(){var e=Object(N.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(V()),e.prev=1,e.next=4,S.a.get("".concat(C,"/posts/random"));case 4:n=e.sent,t(J(n.data)),t(H()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(W(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))(Te),Re=function(){return r.a.createElement("div",null,r.a.createElement(qe,null))},Ie=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(b,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:de}),r.a.createElement(m.a,{exact:!0,path:"/posts",component:ve}),r.a.createElement(m.a,{exact:!0,path:"/contact",component:ge}),r.a.createElement(m.a,{exact:!0,path:"/posts/new",component:xe}),r.a.createElement(m.a,{exact:!0,path:"/posts/edit/:id",component:xe}),r.a.createElement(m.a,{exact:!0,path:"/posts/:id",component:De}),r.a.createElement(m.a,{exact:!0,path:"/posts/random",component:Re}),r.a.createElement(m.a,{component:be})))}}]),t}(a.Component),Be=(n(281),n(282),n(29)),Ue=n(108),Le=Object(Be.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case U:return T({},e,{data:t.payload});case L:return T({},e,{request:{pending:!0,error:null,success:null}});case M:return T({},e,{request:{pending:!1,error:null,success:!0}});case X:return T({},e,{request:{pending:!1,error:t.error,success:!1}});case G:return T({},e,{singlePost:t.payload});case Q:return T({},e,{postsPerPage:t.payload.postsPerPage,presentPage:t.payload.presentPage,amount:t.payload.amount,data:Object(y.a)(t.payload.posts)});case F:return T({},e,{data:[],request:{pending:!1,error:null,success:null},sent:!1,singlePost:{}});default:return e}}}),Me=Object(Be.e)(Le,Object(Be.d)(Object(Be.a)(Ue.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement((function(){return r.a.createElement(j.a,{store:Me},r.a.createElement(h.a,null,r.a.createElement(Ie,null)))}),null),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.5c811e72.chunk.js.map